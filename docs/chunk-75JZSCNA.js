import{b as L}from"./chunk-IDQSGZ3P.js";import{Fa as h,Ha as w,J as u,Ja as d,Ka as f,La as c,Ma as s,Na as y,O as g,Oa as E,Pa as R,Qa as I,Ua as H,V as S,Va as P,W as T,fa as o,na as _,pa as l,va as C,ya as D}from"./chunk-26RWJC6K.js";var a=class t{constructor(){}trendingScrollState=o(0);static \u0275fac=function(e){return new(e||t)};static \u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})};var V=["groupDiv"],b=(t,i)=>i.id;function F(t,i){if(t&1&&(c(0,"div"),y(1,"img",3),s()),t&2){let e=i.$implicit;l(),I("title",e.title),h("src",e.url,_)("alt",e.title)}}function j(t,i){if(t&1&&(c(0,"div",2),d(1,F,2,3,"div",null,b),s()),t&2){let e=i.$implicit;l(),f(e)}}var m=class t{gifs=o("");gifsService=g(L);scrollStateService=g(a);scrollDivRef=C("groupDiv");onScroll(i){let n=this.scrollDivRef()?.nativeElement;if(!n)return;let r=n.scrollTop,v=n.clientHeight,p=n.scrollHeight;this.scrollStateService.trendingScrollState.set(r),r+v+300>=p&&this.gifsService.loadTrendingGifs()}ngAfterViewInit(){let i=this.scrollDivRef()?.nativeElement;i&&(i.scrollTop=this.scrollStateService.trendingScrollState())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-trending-page"]],viewQuery:function(e,n){e&1&&H(n.scrollDivRef,V,5),e&2&&P()},decls:4,vars:0,consts:[["groupDiv",""],[1,"grid","h-screen","grid-cols-2","gap-4","pt-5","overflow-y-scroll","md:grid-cols-4",3,"scroll"],[1,"grid","gap-4"],[1,"object-cover","w-full","h-full","rounded-lg",3,"src","alt","title"]],template:function(e,n){if(e&1){let r=E();c(0,"div",1,0),R("scroll",function(p){return S(r),T(n.onScroll(p))}),d(2,j,3,0,"div",2,w),s()}e&2&&(l(2),f(n.gifsService.trendingGifGroup()))},encapsulation:2})};export{m as default};
